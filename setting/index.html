---
layout: frame
title: SETTING
sitemap: false
---
<div class="row setting" style="max-width: 768px; margin-left: auto; margin-right: auto; margin-top: 30px;">
<form class="form-horizontal">
    <div class="form-group">
        <label class="col-sm-2 control-label">ANIMATE: </label>
		<div class="col-sm-10">
		  	<div class="btn-group">
		        <a class="btn btn-default" href="javascript:void(0);" data-animate-speed='0.7'>FAST</a>
		        <a class="btn btn-default" href="javascript:void(0);" data-animate-speed='1'>NORMAL</a>
		        <a class="btn btn-default" href="javascript:void(0);" data-animate-speed='2'>SLOW</a>
		        <a class="btn btn-default" href="javascript:void(0);" data-animate-speed='10'>SLOTH</a>
		    </div>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">DEUBG: </label>
		<div class="col-sm-10">
		    <div class="btn-group">
		        <a class="btn btn-default" href="javascript:void(0);" data-debug='-1'>OFF</a>
		        <a class="btn btn-default" href="javascript:void(0);" data-debug='5'>ON</a>
		        <a class="btn btn-default" href="javascript:void(0);" data-debug='0'>DETAIL</a>
		    </div>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">DEBUG-INFO: </label>
		<div class="col-sm-10">
			<div class="well debug-info" style="
				max-height: 500px;
				min-height: 300px;
				max-width: 500px;
				overflow: auto;
				font-size: 10px;">
			</div>
			<style>.debug-info * {white-space: nowrap;}</style>
        </div>
    </div>
</form>
</div>
<script>
var refresh_debug_info = function(){
	var objDiv = document.querySelector('.setting .debug-info');
	if(objDiv) {
		objDiv.innerHTML = DEBUG_INFO();
		objDiv.scrollTop = objDiv.scrollHeight;
	}
}
$(function(){
	// (perhaps) TODO: It's mess
	var search_debug_data = DEBUG?DEBUG_INFO.get_show_level():-1;
	$(".setting a[data-debug='"+search_debug_data+"']").addClass('active');
	$(".setting a[data-animate-speed='"+ANI_MULTI+"']").addClass('active');
	$(".setting a[data-debug]").click(function(event) {
		var value = $(this).data('debug');
		if(value>=0) {
			if(!DEBUG){
				DEBUG = true;
				info('=============== DEBUG: ON ================');
			}
			DEBUG_INFO.set_show_level(value);
		}
		else {
			info('=============== DEBUG: OFF ===============');
			DEBUG = false;
		}
		web_setting.set('debug', DEBUG);
		$(".setting a[data-debug]").removeClass('active');
		$(this).addClass('active');
		refresh_debug_info();
	});
	$(".setting a[data-animate-speed]").click(function(event) {
		var value = $(this).data('animate-speed');
		ANI_MULTI = value;
		web_setting.set('animate-speed', value);
		$(".setting a[data-animate-speed]").removeClass('active');
		$(this).addClass('active');
	});
	// 直接运行objDiv.scrollHeight总为0
	// 猜测是刚获取dom时并没有显示，但已经开始执行的原因
	setTimeout(function(){
		refresh_debug_info();
	}, 500);
});
</script>